<div class="container">
  <div class="mat-dialog-title-container">
    <mat-icon>{{ data?.icon }}</mat-icon>
    <h2 mat-dialog-title>
      {{ data?.title }}
    </h2>
  </div>
  <mat-dialog-content>
    <div class="modal-form">
      <form [formGroup]="userForm.baseForm">
        <div class="mat-form-field-container">
          <mat-form-field class="full-width-input" appearance="outline">
            <mat-label>Nombres</mat-label>
            <input
              matInput
              formControlName="name"
              placeholder="Nombres"
              required
            />
            <mat-error *ngIf="checkField('name')">{{
              userForm.getErrorMessage("name")
            }}</mat-error>
          </mat-form-field>

          <mat-form-field class="full-width-input" appearance="outline">
            <mat-label>Apellidos</mat-label>
            <input
              matInput
              formControlName="lastName"
              placeholder="Apellidos"
              required
            />
            <mat-error *ngIf="checkField('lastName')">{{
              userForm.getErrorMessage("lastName")
            }}</mat-error>
          </mat-form-field>
        </div>
        <div class="mat-form-field-container">
          <mat-form-field class="full-width-input" appearance="outline">
            <mat-label>Tipo de identificación</mat-label>
            <mat-select formControlName="idType">
              <mat-option value="Cédula de ciudadanía">Cédula de ciudadanía</mat-option>
              <mat-option value="pasaporte">Pasaporte</mat-option>
              <mat-option value="cedula de extranjeria">Cédula de extranjería</mat-option>
              <mat-option value="tarjeta de identidad">Tarjeta de identidad</mat-option>
            </mat-select>
            <mat-error *ngIf="checkField('idType')">{{
              userForm.getErrorMessage("idType")
            }}</mat-error>
          </mat-form-field>

          <mat-form-field class="full-width-input" appearance="outline">
            <mat-label>Número de identificación</mat-label>
            <input
              matInput
              formControlName="idNumber"
              placeholder="Número de identificación"
              required
            />
            <mat-error *ngIf="checkField('idNumber')">{{
              userForm.getErrorMessage("idNumber")
            }}</mat-error>
          </mat-form-field>
        </div>
        <div class="mat-form-field-container">
          <mat-form-field class="full-width-input" appearance="outline">
            <mat-label>Dirección</mat-label>
            <input
              matInput
              formControlName="address"
              placeholder="Dirección"
              required
            />
            <mat-error *ngIf="checkField('address')">{{
              userForm.getErrorMessage("address")
            }}</mat-error>
          </mat-form-field>

          <mat-form-field class="full-width-input" appearance="outline">
            <mat-label>Teléfono</mat-label>
            <input
              matInput
              formControlName="phoneNumber"
              placeholder="Teléfono"
              required
            />
            <mat-error *ngIf="checkField('phoneNumber')">{{
              userForm.getErrorMessage("phoneNumber")
            }}</mat-error>
          </mat-form-field>
        </div>
        <div class="mat-form-field-container">
          <mat-form-field class="full-width-input" appearance="outline">
            <mat-label>Correo electrónico</mat-label>
            <input
              matInput
              formControlName="email"
              placeholder="ejemplo@correo.com"
            />
            <mat-error *ngIf="checkField('email')">{{
              userForm.getErrorMessage("email")
            }}</mat-error>
          </mat-form-field>

          <mat-form-field class="full-width-input" appearance="outline">
            <mat-label>Cargo</mat-label>
            <input
              matInput
              formControlName="position"
              placeholder="Cargo"
              required
            />
            <mat-error *ngIf="checkField('position')">{{
              userForm.getErrorMessage("position")
            }}</mat-error>
          </mat-form-field>
        </div>
        <div class="mat-form-field-container">
          <mat-form-field
            class="full-width-input"
            appearance="outline"
            *ngIf="showPasswordField"
          >
            <mat-label>Contraseña</mat-label>
            <input
              matInput
              [type]="hide ? 'password' : 'text'"
              formControlName="password"
              placeholder="+8 caracteres"
              required
            />
            <button
              type="button"
              mat-icon-button
              matSuffix
              (click)="hide = !hide"
              [attr.aria-label]="'Hide password'"
              [attr.aria-pressed]="hide"
            >
              <mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
            </button>
            <mat-error *ngIf="checkField('password')">{{
              userForm.getErrorMessage("password")
            }}</mat-error>
          </mat-form-field>

          <mat-form-field class="full-width-input" appearance="outline">
            <mat-label>Rol</mat-label>
            <mat-select formControlName="role">
              <mat-option value="employee">Usuario</mat-option>
              <mat-option value="admin">Administrador</mat-option>
            </mat-select>
            <mat-error *ngIf="checkField('role')">{{
              userForm.getErrorMessage("role")
            }}</mat-error>
          </mat-form-field>
        </div>
      </form>
    </div>
  </mat-dialog-content>
  <mat-dialog-actions>
    <button
      mat-flat-button
      [mat-dialog-close]="true"
      color="primary"
      (click)="onSave()"
      ckdFocusInitial
      [disabled]="!userForm.baseForm.valid"
    >
      Guardar
    </button>
    <button mat-stroked-button color="primary" mat-dialog-close>
      Cancelar
    </button>
  </mat-dialog-actions>
</div>
